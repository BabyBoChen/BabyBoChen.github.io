async function addVisitorMain(){await addVisitor(await getUserIp("https://ipapi.co/json/"),"https://bblj-my-dart.azurewebsites.net")}async function getUserIp(ipapi){return await fetch(ipapi,{method:"GET"}).then(function(resp){return resp.json()}).then(function(ipInfo){return{countryCode:ipInfo.country_code,region:ipInfo.region_code,query:ipInfo.ip}}).catch(function(err){console.log(err);return{countryCode:"",region:"",query:""}})}async function addVisitor(userIp,endpoint){await fetch(endpoint,{method:"POST",body:JSON.stringify(userIp)}).then(function(resp){return resp}).catch(function(err){console.log(err);return"0|Fail"})}async function getVisitorCt(endpoint){return(await fetch(endpoint+"/counter",{method:"GET"}).then(function(resp){return resp.json()}).catch(function(err){console.log(err);return{visitorCt:0}})).visitorCt}export{addVisitorMain,getVisitorCt};